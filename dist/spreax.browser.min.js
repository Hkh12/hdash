var Spreax=function(){function e(t){for(var n=[],r=Node.TEXT_NODE,i=Node.ELEMENT_NODE,o=0,a=t.childNodes;o<a.length;o+=1){var s=a[o];if(/\S+/g.test(s.textContent)){var u=s.nodeType;if(u===r)n.push(s);else{if(u!==i)continue;n=n.concat(e(s))}}}return n}function t(e){return e.replace(/-([a-z])/g,function(e,t){return t.toUpperCase()})}function n(e){for(var n,r=e.attributes,i=[],o=function(){var e=s[a].name;if(/^sp-/.test(e)){var r=(e=e.replace(/^sp-/,"")).match(/^([a-z]+(?:-[a-z]+)*)(:[a-z0-9]+(?:-[a-z0-9]+)*)?((?:\.[a-z0-9]+))*$/),o=r[1],u=r[2],c=r[3];u&&(u=u.replace(/^:/,""));var f,l,d,p={name:o,arg:u||null,modifiers:c?(f=c.slice(1).split(".").map(t),l=!0,d={},f.forEach(function(e){d[e]=l}),d):{}};i.push(Object.assign({},p,((n={})[Symbol.toPrimitive]=function(e){return"number"===e?NaN:function(e){var t="sp-"+e.name;e.arg&&(t+=":"+e.arg);var n=Object.keys(e.modifiers);return n.length&&(t+="."+n.join(".")),t}(p)},n)))}},a=0,s=r;a<s.length;a+=1)o();return i.filter(function(e,t,n){var r=function(e){return e.arg?[e.name,e.arg].join(":"):e.name},i=n.filter(function(t){return r(t)===r(e)});return i.length>1?i[0]:e})}var r=function(e){function t(t,n){e.call(this,t),this.message=t+"\n error at: "+function(e,t){void 0===t&&(t="body"),"string"==typeof t&&(t=document.querySelector(t));for(var n=[];e!==t;)n.unshift(e),e=e.parentElement;return n.unshift(t),(n=n.map(function(e){var t=e.tagName.toLowerCase();return e.className&&(t+="."+e.className.trim().split(" ").join(".")),e.id&&(t+="#"+e.id),t=t.replace(/^div([^$]+)/,"$1")})).join(" > ")}(n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Error),i={};function o(e,t,n){if(void 0===n&&(n={}),e in i)throw new Error('directive "'+e+'" already exists');if(!/^[a-z]+(?:-[a-z]+)*$/.test(e))throw new Error('"'+e+'" is not a valid directive name');i[e]={options:n,callback:t}}var a=i,s={null:null,"!0":!0,"!1":!1,false:!1,true:!0,undefined:void 0};var u=[];o("on",function(e){var t,n=this,r=e.element,i=e.attributeValue,o=e.modifiers,a=e.argument;if(t=a,0===u.length&&(u=Object.keys(window).filter(function(e){return/^on/.test(e)}).map(function(e){return e.replace(/^on/,"")})),!u.includes(t))throw new TypeError('event "'+a+'" is not a valid DOM event.');var c=/ = .+$/.test(i);r.addEventListener(a,function(e){if(o.prevent&&e.preventDefault(),c){var t=function(e){var t=e.match(/^(.+) = (.+)$/);if(null===t)throw new SyntaxError('string "'+e+'" is not a valid assignment statement');var n=t[1],r=t[2],i=!1;if(r in s)r=s[r];else if(isNaN(+r))if(/^(['"`]).*\1$/.test(r))r=r.slice(1,-1);else{if(!/^!?\w+$/i.test(r))throw new SyntaxError('could not find any values matching "'+r+'"');i=!0}else r=Number(r);return{prop:n,getValue:function(e){return i?r.startsWith("!")?!e[r.slice(1)]:e[r]:r}}}(i);n[t.prop]=t.getValue(n)}else n[i]()},{once:o.once,passive:o.passive,capture:o.capture})},{argumentIsRequired:!0}),o("model",{ready:function(e){var t=this,n=e.element,i=e.attributeValue,o=e.modifiers.lazy;if(!["select","input","textarea"].includes(n.tagName.toLowerCase()))throw new r("model directive only works on input, textarea or select tags",n);"checkbox"===n.type?n.checked=!!this[i]:n.value=this[i],n.addEventListener("change",function(){t[i]="checkbox"===n.type?n.checked:n.value}),"text"!==n.type||o||n.addEventListener("keydown",function(){setTimeout(function(){t[i]=n.value},0)})},updated:function(e){var t=e.element,n=e.attributeValue;t["checkbox"===t.type?"checked":"value"]=this[n]}}),o("class",function(e){var t=e.element,n=e.argument,r=e.attributeValue;this.$on(r||n,function(e){t.classList[e?"add":"remove"](n||r);var i=t.getAttribute("class");null===i||i.length||t.removeAttribute("class")},{immediate:!0,node:t,type:"d"})},{argumentIsRequired:!0}),o("style",function(e){var n=e.element,r=e.argument,i=e.attributeValue;r=t(r);var o="opacity, z-index, font-weight, line-height".split(", ");this.$on(i||r,function(e){isNaN(+e)||o.includes(r)||(e+="px"),n.style[r]=e},{node:n,type:"d",immediate:!0})},{argumentIsRequired:!0});var c=function(t,n){if("string"==typeof t)this.$el=document.querySelector(t);else{if(!(t instanceof HTMLElement))throw new TypeError('wrong selector or element: expected element or string, got "'+String(t)+'"');this.$el=t}this.$events=[],this.$formatters={},this.$_proxy=null,this.$extendWith(n.state||{},n.actions||{},n.computed||{},n.formatters||{}),e(this.$el).forEach(this.$interpolation,this),this.$el.querySelectorAll("*").forEach(this.$execDirectives,this),this.$observe()};return c.prototype.$extendWith=function(e,t,n,r){var i=this;this.$makeProxy(e);var o=function(e){Object.defineProperty(i,e,{get:function(){return i.$_proxy[e]},set:function(t){i.$_proxy[e]=t}})};for(var a in e)o(a);for(var s in t)i[s]=t[s].bind(i);for(var u in n)Object.defineProperty(i,u,{get:n[u].bind(i),set:function(){return!1}});for(var c in r)i.$formatters[c]=r[c].bind(i)},c.prototype.$makeProxy=function(e){var t=this;this.$_proxy=new Proxy(e,{get:function(e,t){if(!e.hasOwnProperty(t))throw new Error('unknown state property "'+t+'"');return e[t]},set:function(e,n,r){if(!e.hasOwnProperty(n))throw new Error('unknown state property "'+n+'"');if(r!==e[n])return e[n]=r,t.$emit(n),t.$emit(),!0},deleteProperty:function(){return!1}})},c.prototype.$pipeFormatters=function(e){return function(e,t){return e.length?e.map(function(e){if(e in t)return t[e];throw new Error('formatter "'+e+'" not found')}).reduce(function(e,t){return function(n){return t(e(n))}}):function(e){return e}}(e,this.$formatters).bind(this)},c.prototype.$execDirectives=function(e){var t=this;!function(e,t){if(e.attributes.length)for(var i=0,o=n(e);i<o.length;i+=1){var s=o[i];if(!a.hasOwnProperty(s.name))throw new r('directive "'+s.name+'" not found',e);var u=a[s.name],c=u.options,f=u.callback;if(c.argumentIsRequired&&!s.arg)throw new r("directive needs an arguments, but there's nothing",e);t(f,{element:e,attributeValue:e.getAttribute(""+s),modifiers:s.modifiers,argument:s.arg})}}(e,function(n,r){"function"==typeof n?n.call(t,r):("ready"in n&&n.ready.call(t,r),"updated"in n&&t.$on("",function(){n.updated.call(t,r)},{type:"d",node:e}))})},c.prototype.$interpolation=function(e){var t=this;!function(e,t){var n=/#\[( ?)\w+(?: \w+)*\1\]/gi,r=e.textContent;if(n.test(r)){var i=[];r.replace(n,function(e,t,n){return i.push({string:e,startIndex:n}),e});for(var o=0,a=i;o<a.length;o+=1){var s=a[o],u=s.string,c=s.startIndex,f=u.replace(/^#\[ ?/,"").replace(/ ?\]$/,"").split(" "),l=f[0];return t({initialText:r,node:e,formatters:f.slice(1),match:{startIndex:c,string:u},propertyName:l})}}}(e,function(e){var n=e.initialText,r=e.node,i=e.propertyName,o=e.formatters,a=e.match,s=a.startIndex,u=a.string,c=t.$pipeFormatters(o);t.$on(i,function(e){e=String(c(e));var t=n.slice(0,s)+e+n.slice(s+u.length+e.length,n.length);n!==t&&(r.textContent=t)},{immediate:!0,type:"i",node:r})})},c.prototype.$observe=function(){var t,n,r,i=this,o=function(e,t){void 0===t&&(t="i");for(var n=i.$events.filter(function(n){return n.type===t&&n.node===e}).map(function(e,t){return t}),r=0,o=n;r<o.length;r+=1){var a=o[r];i.$events.splice(a,1)}};(t={textAdded:this.$interpolation.bind(this),elementAdded:this.$execDirectives.bind(this),textRemoved:o,elementRemoved:function(e){o(e,"d")}},n=Node.TEXT_NODE,r=Node.ELEMENT_NODE,new MutationObserver(function(i){for(var o=0,a=i;o<a.length;o+=1){for(var s=a[o],u=0,c=s.addedNodes;u<c.length;u+=1){var f=c[u];if(f.nodeType===n){if("childList"===s.type&&s.target.hasChildNodes(f))continue;t.textAdded(f)}else f.nodeType===r&&(e(f).forEach(function(e){return t.textAdded(e)}),t.elementAdded(f))}for(var l=0,d=s.removedNodes;l<d.length;l+=1){var p=d[l];p.nodeType===n?t.textRemoved(p):p.nodeType===r&&(e(p).forEach(function(e){return t.textRemoved(e)}),t.elementRemoved(p))}}})).observe(this.$el,{childList:!0,subtree:!0})},c.prototype.$on=function(e,t,n){var r=n.type,i=n.node,o=n.immediate;void 0===o&&(o=!1),this.$events.push(Object.assign({},{prop:e,fn:t},r?{type:r}:{},i?{node:i}:{})),o&&this.$emit(e)},c.prototype.$emit=function(e){var t=this;this.$events.filter(function(t){return!e||t.prop===e}).forEach(function(e){var n=e.prop?[t[e.prop]]:[];e.fn.apply(t,n)})},c.directive=o,c}();
